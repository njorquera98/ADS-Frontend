<div class="w-full flex flex-col max-w-5xl mx-auto">
  <h1 class="font-bold text-xl mb-4">Ayudantias</h1>
  <table class="table-auto text-center shadow-md rounded">
    <thead>
      <tr>
        <th>#</th>
        <th>Asignatura</th>
        <!-- falta logica -->
        <th>Cupos</th>
        <!-- falta logica -->
        <th>Nombre</th>
        <!-- falta logica -->
        <th>Promedio</th>
        <th>Prioridad</th>
        <th>Ha sido?</th>
        <th>Acciones</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let solicitud of solicitudesService.solicitudes; index as i">
        <td>{{ i + 1 }}</td>
        <td>
          {{
            asignaturaService.obtenerAsignatura(solicitud.id_ayudantia)?.nombre
          }}
        </td>
        <td>{{ solicitud.id_ayudantia }}</td>
        <td>
          {{
            usuarioService.obetenrUsuario(solicitud.id_usuario)?.nombre +
              " " +
              usuarioService.obetenrUsuario(solicitud.id_usuario)
                ?.apellido_paterno +
              " " +
              usuarioService.obetenrUsuario(solicitud.id_usuario)
                ?.apellido_materno
          }}
        </td>
        <td>{{ solicitud.promedio_asignatura }}</td>
        <td>{{ solicitud.prioridad }}</td>
        <td>{{ solicitud.anteriormente_ayudante ? "Si" : "No" }}</td>
        <td class="flex justify-around">
          <button class="text-blue-600" title="Ver" (click)="handleModal(i)">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="w-7 h-7"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M2.036 12.322a1.012 1.012 0 010-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178z"
              />
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
              />
            </svg>
          </button>
          @if (solicitud.estado=='Rechazado') {
          <button class="text-green-600" title="Alumno aprobado">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="w-7 h-7"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"
              />
            </svg>
          </button>
          }@else {
          <button class="text-red-600" title="Alumno desaprobado">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              fill="none"
              viewBox="0 0 24 24"
              stroke-width="2"
              stroke="currentColor"
              class="w-7 h-7"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                d="M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
              />
            </svg></button
          >}
        </td>
        <profesor-modal
          class="dark:text-black"
          *ngIf="showModal[i]"
          (closeModalEvent)="handleModal(i)"
          [solicitud]="solicitud"
        ></profesor-modal>
      </tr>
    </tbody>
  </table>
</div>
