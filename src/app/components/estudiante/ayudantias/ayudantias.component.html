<div class="container m-auto py-6 px-8">
  <div class="flex flex-col w-full bg-white rounded-lg shadow-md pt-4 pb-2 dark:bg-gray-800">
    <h3 class="text-xl text-gray-900 font-semibold px-6 mb-4 dark:text-gray-200">
      Ayudantias
  </h3>
  <div class="w-full overflow-x-auto">
    <table class="w-full border-collapse">
      <thead class="text-sm text-white uppercase font-semibold bg-gray-800 dark:bg-gray-600 dark:text-gray-300">
        <tr class="text-white">
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-left">#</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-left">Asignatura</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-center">Codigo asignatura</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-center">Cupos</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-center">Horas</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-center">Estado</th>
          <th scope="col" class="px-6 py-3 whitespace-nowrap text-center">Acciones</th>
        </tr>
      </thead>
      <tbody class="text-sm dark:text-gray-300">
        <tr
          class="hover:bg-gray-100 dark:hover:bg-gray-700"
          *ngFor="let ayudantia of ayudantiasService.ayudantias; index as i"
        >
          <td scope="col" class="border-t-0 p-4 pl-6 border-l-0 border-r-0 whitespace-nowrap">{{ i + 1 }}</td>
          <td scope="col" class="border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap">
            {{
              asignaturaService.obtenerAsignatura(ayudantia.id_asignatura)?.nombre
            }}
          </td>
          <td scope="col" class="border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap text-center">
            {{
              asignaturaService.obtenerAsignatura(ayudantia.id_asignatura)?.codigo
            }}
          </td>
          <td scope="col" class="border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap text-center">{{ ayudantia.cupos }}</td>
          <td scope="col" class="border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap text-center">{{ ayudantia.horas }}</td>
          <td class="flex justify-center border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap">
            <div class="flex justify-center items-center w-36 pt-1">
              @if (obtenerEstadoSolicitud(ayudantia.id_ayudantia)=='Postulado') {
                <span class="text-center py-1 w-28 rounded-lg bg-green-300 text-green-950">
                  {{ obtenerEstadoSolicitud(ayudantia.id_ayudantia) }}
                </span>
              } @else {
                <span class="text-center py-1 w-28 rounded-lg bg-red-300 text-red-900">
                  {{ obtenerEstadoSolicitud(ayudantia.id_ayudantia) }}
                </span>
              }
            </div>
          </td>
          <td class="border-t-0 p-4 border-l-0 border-r-0 whitespace-nowrap text-center">
            <div class="flex justify-center items-center w-full rounded-lg space-x-6">            
              @if (obtenerEstadoSolicitud(ayudantia.id_ayudantia) == "No postulado")
              {
                <button
                  type="button"
                  title="Postular"
                  class="flex justify-center items-center w-28 h-9 rounded-lg text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"
                  routerLink="/estudiante/postular/{{ ayudantia.id_ayudantia }}">
                  <i class="fa-solid fa-graduation-cap mr-1"></i>
                  Postular
                </button>
              }@else {
                <!-- <button class="flex justify-center items-center w-9 h-9 text-white rounded-lg bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
                        type="button"
                        title="Cancelar postulacion"
                        (click)="eliminarSolicitud(ayudantia.id_ayudantia)">
                    <i class="fa-regular fa-trash-can" title="Eliminar"></i>
                </button> -->
                <button
                  type="button"
                  title="Cancelar postulacion"
                  class="flex justify-center items-center w-28 h-9 rounded-lg text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
                  (click)="eliminarSolicitud(ayudantia.id_ayudantia)">
                  <i class="fa-solid fa-xmark mr-1"></i>
                  Cancelar
                </button>
              }
            </div>
          </td>
          <!-- <estudiante-modal
            class="dark:text-black"
            *ngIf="showModal[i]"
            (closeModalEvent)="handleModal(i)"
            [idAyudantia]="ayudantia.id_ayudantia"
          ></estudiante-modal> -->
        </tr>
      </tbody>
    </table>
  </div>
    
  </div>
</div>

